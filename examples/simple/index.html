<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Storelocator</title>
		<link rel="stylesheet" href="../../dist/storelocator/css/storelocator.css" />
        </head>
    <body>
        <div class="storelocator">
            <div class="storelocator-loader"></div>
            <form class="storelocator-formSearch" name="form-search">
                <input type="text" class="storelocator-inputSearch" placeholder="Enter a location" autocomplete="off" value="Paris, France" required />
                <div class="storelocator-formFilters">
                    <div class="storelocator-formFiltersRow">
                        <div class="storelocator-formCheckbox">
                            <input type="checkbox" name="category-1" id="category-1" class="filter-map-js" checked="checked" value="1" />
                            <label for="category-1" class="category-1">Catégorie 1</label>
                        </div>
                        <div class="storelocator-formCheckbox">
                            <input type="checkbox" name="category-2" id="category-2" class="filter-map-js" checked="checked" value="2" />
                            <label for="category-2" class="category-2">Catégorie 2</label>
                        </div>
                    </div>
                    <div class="storelocator-formFiltersRow">
                        <div class="storelocator-formCheckbox">
                            <input type="checkbox" name="category-3" id="category-3" class="filter-map-js" checked="checked" value="3" />
                            <label for="category-3" class="category-3">Catégorie 3</label>
                        </div>
                    </div>
                </div>
            </form>
            <nav class="storelocator-nav">
                <ul>
                    <li>
                        <a href="" title="Show map" class="switch-view-js active view-map">
                            Show map<span class="storelocator-navBorder"></span>
                        </a>
                    </li>
                    <li>
                        <a href="" title="Show list" class="switch-view-js view-results">
                            Show list<span class="storelocator-navBorder"></span>
                        </a>
                    </li>
                </ul>
            </nav>
            <div id="storelocator-googleMaps" class="active">
                <div id="google-map"></div>
                <button class="storelocator-geolocButton"></button>
            </div>
            <div class="storelocator-sidebar">
                <div class="storelocator-sidebarResults"></div>
            </div>
        </div>

        <!-- <script src="js/libs/markerclusterer.js"></script> -->
		<script src="../../dist/storelocator/js/storelocator.js"></script>
        <script>
            var options = {
                apiKey: 'AIzaSyDPSz_DJFoavj9mkeUd9U0xuxXefvpcys8',
                urlWebservice: 'https://europe-west1-storelocator-pre-1509050517787.cloudfunctions.net/Stores',
                debug: false,
                breakpointMobile: '767px',

                cluster: {
                    status: true,
                    options: {
                        gridSize: 50,
                        maxZoom: 13,
                        zoomOnClick: true,
                        averageCenter: true,
                        minimumClusterSize: 2,
                        styles: [{
                            url: 'img/cluster.png',
                            textSize: 14,
                            textColor: '#000',
                            width: 70,
                            height: 70
                        }]
                    }
                },

                geolocation: {
                    status: true,
                    startOnLoad: false
                },

                updateMarkerOnBoundsChanged: {
                    status: true,
                    maxMarkersInViewportLimit: 30,
                    stepRadius: 50,
                    maxRadius: 150
                },

                requests: {
                    searchRadius: 50,
                    storeLimit: 0
                },

                map: {
                    options: {
                        center: [46.227638, 2.213749],
                        mapTypeId: 'roadmap',
                        zoom: 6,
                        scrollwheel: true,
                        disableDefaultUI: false,
                        mapTypeControl: false,
                        streetViewControl: false,
                        scaleControl: false,
                        fullscreenControl: false,
                        styles: [{'featureType':'administrative','elementType':'labels.text.fill','stylers':[{'color':'#6195a0'}]},{'featureType':'administrative.province','elementType':'geometry.stroke','stylers':[{'visibility':'off'}]},{'featureType':'landscape','elementType':'geometry','stylers':[{'lightness':'0'},{'saturation':'0'},{'color':'#f5f5f2'},{'gamma':'1'}]},{'featureType':'landscape.man_made','elementType':'all','stylers':[{'lightness':'-3'},{'gamma':'1.00'}]},{'featureType':'landscape.natural.terrain','elementType':'all','stylers':[{'visibility':'off'}]},{'featureType':'poi','elementType':'all','stylers':[{'visibility':'off'}]},{'featureType':'poi.park','elementType':'geometry.fill','stylers':[{'color':'#bae5ce'},{'visibility':'on'}]},{'featureType':'road','elementType':'all','stylers':[{'saturation':-100},{'lightness':45},{'visibility':'simplified'}]},{'featureType':'road.highway','elementType':'all','stylers':[{'visibility':'simplified'}]},{'featureType':'road.highway','elementType':'geometry.fill','stylers':[{'color':'#fac9a9'},{'visibility':'simplified'}]},{'featureType':'road.highway','elementType':'labels.text','stylers':[{'color':'#4e4e4e'}]},{'featureType':'road.arterial','elementType':'labels.text.fill','stylers':[{'color':'#787878'}]},{'featureType':'road.arterial','elementType':'labels.icon','stylers':[{'visibility':'off'}]},{'featureType':'transit','elementType':'all','stylers':[{'visibility':'simplified'}]},{'featureType':'transit.station.airport','elementType':'labels.icon','stylers':[{'hue':'#0a00ff'},{'saturation':'-77'},{'gamma':'0.57'},{'lightness':'0'}]},{'featureType':'transit.station.rail','elementType':'labels.text.fill','stylers':[{'color':'#43321e'}]},{'featureType':'transit.station.rail','elementType':'labels.icon','stylers':[{'hue':'#ff6c00'},{'lightness':'4'},{'gamma':'0.75'},{'saturation':'-68'}]},{'featureType':'water','elementType':'all','stylers':[{'color':'#eaf6f8'},{'visibility':'on'}]},{'featureType':'water','elementType':'geometry.fill','stylers':[{'color':'#c7eced'}]},{'featureType':'water','elementType':'labels.text.fill','stylers':[{'lightness':'-49'},{'saturation':'-53'},{'gamma':'0.79'}]}]
                    },
                    markers: {
                        width: 30,
                        height: 40,
                        styles: [{
                            'category': 'userPosition',
                            'colorBackground': '#33ccff',
                            'colorBorder': '#33ccff'
                        }, {
                            'category': '1',
                            'colorBackground': '#ff6600',
                            'colorBorder': '#ff6600'
                        },{
                            'category': '2',
                            'colorBackground': '#ffcc33',
                            'colorBorder': '#ffcc33'
                        },{
                            'category': '3',
                            'colorBackground': '#ea4c89',
                            'colorBorder': '#ea4c89'
                        }]
                    }
                },

                selectors: {
                    'container': '.storelocator',
                    'loader': '.storelocator-loader',
                    'mapGeoloc': '.storelocator-geolocButton',
                    'mapAside': '.storelocator-sidebar',
                    'formSearch': '.storelocator-formSearch',
                    'inputSearch': '.storelocator-inputSearch',
                    'filterSearch': '.filter-map-js',
                    'asideResults': '.storelocator-sidebarResults'
                }
            };
			var myStorelocator = new storelocatorjs({
                options: options,
                onReady: function(map){
                    this.triggerRequest({
                        'lat': 48.8589507,
                        'lng': 2.2770202,
                        fitBounds: true
                    });
                }
            });
		</script>
    </body>
</html>